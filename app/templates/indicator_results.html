{% extends "base.html" %} {% block title %}Indicator Results{% endblock %} {%
block content %}
<!-- Header -->
<div class="bg-blue-400 text-gray-100 p-8 rounded-md text-center">
  <h1 class="text-3xl font-bold">Indicator Results</h1>
  <p class="mt-2">
    Select the time frame, stock list, and indicator to view the results.
  </p>
</div>

<!-- Form for selecting filters -->
<form
  method="POST"
  action="{{ url_for('main.indicator_results') }}"
  class="mt-6 flex justify-between items-center"
>
  <!-- Time Frame Dropdown -->
  <div class="w-1/4 px-2">
    <label for="time-frame" class="block text-sm font-medium text-gray-700 mb-2"
      >Select Time Frame</label
    >
    <select
      id="time-frame"
      name="time-frame"
      class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md"
    >
      <option value="1D">1 Day</option>
      <option value="1W">1 Week</option>
      <option value="1M">1 Month</option>
      <option value="3M">3 Months</option>
      <option value="6M">6 Months</option>
      <option value="1Y">1 Year</option>
    </select>
  </div>

  <!-- Stock List Dropdown -->
  <div class="w-1/4 px-2">
    <label for="stock-list" class="block text-sm font-medium text-gray-700 mb-2"
      >Select Stock List</label
    >
    <select
      id="stock-list"
      name="stock-list"
      class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md"
    >
      <option value="stocklist1">Stock List 1</option>
      <option value="stocklist2">Stock List 2</option>
      <option value="stocklist3">Stock List 3</option>
    </select>
  </div>

  <!-- Indicator Dropdown -->
  <div class="w-1/4 px-2">
    <label for="indicator" class="block text-sm font-medium text-gray-700 mb-2"
      >Select Indicator</label
    >
    <select
      id="indicator"
      name="indicator"
      class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md"
    >
      <option value="moving_average">Moving Average</option>
      <option value="rsi">RSI (Relative Strength Index)</option>
      <option value="macd">MACD</option>
      <option value="bollinger_bands">Bollinger Bands</option>
    </select>
  </div>

  <!-- Submit Button -->
  <div class="w-1/4 px-2 pt-6 flex justify-end">
    <button
      type="submit"
      class="bg-blue-400 shadow-lg text-white px-8 py-2 rounded-md hover:bg-blue-500"
    >
      Show Indicator Results
    </button>
  </div>
</form>

{% if indicator_results %}
<!-- Results Table -->
<div class="mt-6 mx-auto w-full bg-white shadow-md rounded-lg p-6">
  <h2 class="text-xl font-bold mb-6 text-center">
    Indicator Results for {{ selected_stock_list }}
  </h2>

  <table class="min-w-full table-auto border-collapse">
    <thead>
      <tr class="bg-gray-100">
        <th class="border-b px-4 py-2 text-left">Stock Symbol</th>
        <th class="border-b px-4 py-2 text-left">Date</th>
        <th class="border-b px-4 py-2 text-left">Indicator Value</th>
      </tr>
    </thead>
    <tbody>
      {% for result in indicator_results %}
      <tr class="hover:bg-gray-50">
        <td class="border-b px-4 py-2">{{ result.symbol }}</td>
        <td class="border-b px-4 py-2">{{ result.date }}</td>
        <td class="border-b px-4 py-2">{{ result.indicator_value }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endif %} {% endblock %}
